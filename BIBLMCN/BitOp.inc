;					����? ��� ������?� ��? � ��?�.
;    bt  ax,15        ; ������ ��� � ?����
;    bts word [bx],15 ; ������ � �?�� ��� � �����
;    btr ax,cx        ; ������ � ���?�� ��� � ?����
;    btc word [bx],cx ; ������ � �������� ��� � �����
;
;    bsf ax,bx        ; ?��?���� ?���� �� �����?��  	����� ����? �����?
;    bsr ax,[si]      ; ?��?���� ����� � ���?� ���?�	����� ���? �����?
;
;    shl al,1         ; ?�� ?���� ����� �� ���� ���
;    shl byte [bx],1  ; ?�� ����� ����� �� ���� ���
;    shl Eax,cl       ; ?�� ?���� ����� �� ������? �� CL
;    shl word [bx],cl ; ?�� ����� ����� �� ������? �� CL
;
;    shld ax,bx,1     ; ?�� ?���� ����� �� ���� ���
;    shld [di],bx,1   ; ?�� ����� ����� �� ���� ���
;    shld ax,bx,cl    ; ?�� ?���� ����� �� ������? �� CL
;    shld [di],bx,cl  ; ?�� ����� ����� �� ������? �� CL
;    "shrd" c������� ���� ���?��-����� ��?�, � � �?� ��� ?�� "�����������" ���� ������ ?���? ���?��-���?��.
;
;    "ror" � "rcr" ?���? ?����� ����, ?�� ��� ������� ?�� ��?� �� �? ��?, �������� �� ��? ���?��
;    "rol" � "rcl" ?���? ?����� ����, ?�� ��� ������� ?�� ����� �� �? ��?, �������� �� ��? ���?��
;
;    "test" �?������ ?�� �� ����?�, ��� �������� "and", �� �� ������� ���?�-�����, ?? �������� ?��.
;    "bswap" ����� ���?� ���� � 32-��?� ?���� ��?� �����?��: ���� �� 0 �� 7 �������� ���?�
;    � ��?� �� 24 �� 31, � ���� �� 8 �� 15 �������� � ��?� �� 16 �� 23\
;.��?�?� �??���� 15|16
;***************************************************************************
;  						�������? � ��?�
;*********************************************************************????**
;1  �?�?_��_����?_?�?�(bt~&Ei) (bts~&Ei=1) (btr~&E=0) (btc~&Ei=notEi)
;2	����� ?�?� shl(r) shl(r)d ror(l) rcl(r)
;3	����� ����? �����?	(bsr=minEi)
;4	����� ���? �����?	(bsf=maxEi)
;5  NEDinB	BYTE,KO						��? ������ � ����		5
;6  NEDinW	WORD,KO						��? ������ � ?��		6
;7  NEDinD	DWORD,KO					��? ������ � ������� ?��	7
;8  ��?�����?��  ��� =>�����   				���?��?� ��? ������ 5
;9  ��?�����?���  ��� =>�����   				���?��?� ��? ������ 6
;10 ��?�����?����� ��� =>�����   				���?��?� ��? ������ 7
;11 K!LKACHinB	BYTE,KOL,KACH				KOL - ������? �  KACH - ����?
;12 K!ACHinB	BYTE,KACH					KACH - ����?
;13								���?��?� ��? ������ 11
;14								���?��?� ��? ������ 12
;***************			5.	������: ��?_������_� ����
MACRO	NEDinB	BYTE,KO
{
		local	CKL
	����?��������	EAX,ECX
		movzx 	eax,BYTE		;��������� ���? ?���
		mov	ECX,9
CKL:
		rcl	al,1
	jnc	@F
		inc	ah
@@:
		loop	CKL
		mov	KO,ah
	����?�������������	EAX,ECX
}
;***************			6.	������: ��?_������_�  WORD
	MACRO	NEDinW	WORD,KO
{		local	CKL
		����?������	EAX,EBX,ECX
		mov	ECX,17
		xor	EBX,EBX
		mov	AX,WORD
CKL:
		rcl	AX,1
	jnc	@F
		inc	bl
@@:
		loop	CKL
		mov	KO,bl
	����?�������������	EAX,EBX,ECX
}
;****************			7.	������: ��?_������_�  DWORD
	MACRO	NEDinD	DWORD,KO
{
		local	CKL
	����?��������	EAX,EBX,ECX
		mov	ECX,33
		xor	EBX,EBX
		mov	EAX,DWORD
CKL:
		rcl	EAX,1
	jnc	@F
		inc	bl
@@:
		loop	CKL
		mov	KO,bl
	����?�������������	EAX,EBX,ECX
}
;**************************8.	�����   	��?�����?��  ��� =>�����
;			��?�����?��  ��� =>�����
	MACRO ��?�����?��  arg
{	common match  ��� ==�����,arg
\{
		NEDinB	���,�����
\}
}
;**************************
;	��?�����?���	��� =>�����
	MACRO	��?�����?��� arg
{	common match  ��� ==�����,arg
\{
		NEDinW	���,�����
\}
}
;**************************
;	��?�����?�����	��� =>�����
	MACRO	��?�����?����� arg
{	common match  ��� ==�����,arg
\{
		NEDinD	���,�����
\}
}
;*****************			9. ������: ��?_�?��?� _������_�	BYTE
	MACRO	K!LKACHinB	BYTE,KOL,KACH		;KOL - ������? �  KACH - ����?
{
		local	CKL,FF,FF1
	����?��������	EAX,EBX,ECX
		mov	ECX,8
���?�?������ EAX,EBX	;K!LKACHinB
		mov	al,BYTE
CKL:
		rcl	al,1
	jnc	FF					;?�� =0
		and	bh,1			;��������� ������
	jne	@F					;flag=1  ? �?
		inc	bl				;���? ��?�� � ��?�� ��?����??��
		xor	bh,1			;�?� ��?���
@@:
		inc	ah
	jmp	FF1
;**
FF:							; ������� ������
		and	bh, 1			; �� 0 , ���? ��������� 0
	je	FF1
		inc	bl				;�? � ������ 1, ?��� ���? � 0
		xor	bh,1			;����?
FF1:
		loop	CKL
		mov	KOL,ah			;������?
		mov	KACH,bl			;����?
	����?�������������	EAX,EBX,ECX
}
;**************************************************
	MACRO	K!ACHinB		BYTE,KACH		;KOL - ������? �  KACH - ����?
{		local	CKL,FF1
����?��������	EAX,EBX,ECX
		mov	ECX,8			;?� �� 8
		xor	EBX,EBX
		xor	EAX,EAX
		mov	al,BYTE
CKL:
		rcl	al,1
	jne	@F
		and	bh,1		;��������� ������
	jne	FF1				;flag=1  ? �?
		inc	bl			;���? ��?�� � ��?�� ��?����??��
		xor	bh,1		;�?� ��?���
	jmp	FF1
;**
@@:						; ������� ������
		and	bh, 1		; �� 0 , ���? ��������� 0
	je	FF1
		inc	bl			;�? � ������ 1, ?��� ���? � 0
		xor	bh,1		;����?
FF1:
		loop	CKL
		mov	KACH,bl		;����?
	����?�������������	EAX,EBX,ECX
}
;***************